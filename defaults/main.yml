---

state: present
adsk_license_manager_version: "15.6.0.13599"
maya_version_major: 2025
maya_version_minor: 3
maya_version_patch: 1
maya_version: "{{ maya_version_major }}.{{ maya_version_minor }}.{{ maya_version_patch }}"

# INFO only supports 2020 product versions and later
# https://www.autodesk.com/support/technical/article/caas/tsarticles/ts/f5IhBc15i0kOwzBb8lcEN.html
adsk_license_manager_setups:
  "15.7.0.13899": "https://damassets.autodesk.net/content/dam/autodesk/external-assets/support-articles/autodesk-licensing-service-download/15-7-0-13899/AdskLicensingInstaller-linux-15.7.0.13899.tar.gz"
  "15.6.0.13599": "https://up1.autodesk.com/NetSWCOM/prd/2026/PLC0000036/5DD68EF7-2F7F-3498-BDC2-5C80B2769757//AdskLicensingInstaller-15.6.0.13599.tar.gz"
license_manager_packages:
  - "adskidentitymanager"  # dependency of adsklicensing
  - "adsklicensing"
  - "adskflexnetclient"  # dependency of adlmapps
  - "adlmapps"

maya_setups:
  "2025.3.1": https://efulfillment.autodesk.com/NetSWDLD/prd/2025/MAYA/E33820FB-8D0C-353A-935B-07E239F12D09//Autodesk_Maya_2025_3_1_ML_Linux_64bit.tgz
  "2026.2.0": "https://efulfillment.autodesk.com/NetSWDLD/prd/2026/MAYA/901073B8-F0A1-3952-A459-9CA36A875C41//Autodesk_Maya_2026_2_Update_Linux_64bit.tgz"
maya_packages:
  - "Maya{{ maya_version_major }}_64"
  - "MayaUSD"
  - "Bifrost"
  - "Substance"
  - "LookdevX"

maya_installers:
  - name: License manager
    dependencies: "{{ adsk_licensing_dependencies }}"
    url: "{{ adsk_license_manager_setups[adsk_license_manager_version] }}"
    target_directory: "/tmp/adsk_licensing_{{ adsk_license_manager_version }}_packages"
    package_sub_dir: "adsklicensinginstaller"
    install_packages: "{{ license_manager_packages }}"
  - name: Maya installer
    dependencies: "{{ maya_dependencies }}"
    url: "{{ maya_setups[maya_version] }}"
    target_directory: "/tmp/maya_{{ maya_version }}_packages"
    package_sub_dir: "Packages"
    install_packages: "{{ maya_packages }}"

...
